# easychat
Этот проект для проверки на сколько возможно создать простое приложение с помощью AI инструментов

# Основные фичи чата с офлайн-режимом

- [ ] **Регистрация пользователя**
  - Пользователь может зарегистрироваться с использованием e-mail и пароля.
- [ ] **Авторизация пользователя**
  - Возможность войти в систему через e-mail и пароль.
- [ ] **Отправка сообщений в реальном времени (онлайн)**
  - Сообщения передаются сразу в чат через WebSocket.
- [ ] **Поддержка офлайн-режима**
  - Сообщения сохраняются локально в **IndexedDB** в офлайн-режиме.
- [ ] **Синхронизация сообщений после восстановления подключения**
  - После восстановления подключения сообщения, отправленные в офлайн-режиме, синхронизируются с сервером.
- [ ] **История сообщений**
  - Получение истории сообщений для выбранного чата.
- [ ] **Создание чатов**
  - Пользователь может создать новый чат (групповой или личный).
- [ ] **Создание закрытых чатов**
  - Пользователь может создать закрытые чаты, доступ к которым имеют только приглашенные пользователи.
- [ ] **Участие в чатах**
  - Пользователь может вступить в существующие чаты.
- [ ] **Поиск по публичным чатам**
  - Пользователь может искать и присоединяться к публичным чатам через поиск.
- [ ] **Уведомления о новых сообщениях (Web Push)**
  - Отправка уведомлений о новых сообщениях, когда пользователь не в приложении.
- [ ] **Статусы сообщений**
  - Сообщения получают статусы (отправлено, доставлено, прочитано).
- [ ] **Поиск по сообщениям**
  - Возможность поиска по истории сообщений в чате.
- [ ] **Групповой чат**
  - Поддержка нескольких участников в одном чате.
- [ ] **Медиа-сообщения**
  - Возможность отправки изображений, видео или аудиофайлов в чат.
- [ ] **Удаление сообщений**
  - Пользователи могут удалять свои сообщения.
- [ ] **Редактирование сообщений**
  - Пользователи могут редактировать свои отправленные сообщения.
- [ ] **Безопасность и шифрование**
  - Все сообщения передаются через защищенное соединение (SSL/TLS).
  - Возможность шифрования сообщений для дополнительной безопасности.
- [ ] **Поддержка нескольких устройств**
  - Возможность использовать чат на нескольких устройствах с синхронизацией данных.



## **Функциональные требования к чату с офлайн-режимом**

#### 1. **Регистрация пользователя**

-   Система должна предоставлять форму регистрации, в которой пользователь может ввести свой e-mail и пароль.
-   После успешной регистрации пользователю должно быть отправлено письмо с подтверждением.

#### 2. **Авторизация пользователя**

-   Система должна предоставлять возможность входа с использованием e-mail и пароля.
-   После успешной авторизации пользователь получает доступ к основным функциональным возможностям чата.
-   В случае неправильного ввода данных система должна отображать ошибку.

#### 3. **Отправка сообщений в реальном времени (онлайн)**

-   Система должна использовать WebSocket для отправки сообщений в реальном времени.
-   Сообщения должны мгновенно отображаться в чате у всех участников при отправке.

#### 4. **Поддержка офлайн-режима**

-   Система должна сохранять отправленные сообщения в **IndexedDB** при отсутствии подключения к интернету.
-   Ожидается, что пользователь будет уведомлен о том, что он находится в офлайн-режиме.

#### 5. **Синхронизация сообщений после восстановления подключения**

-   Когда устройство восстанавливает подключение, все сообщения, отправленные в офлайн-режиме, должны быть синхронизированы с сервером.
-   Сервер должен обработать все сообщения, отправленные в офлайне, и передать их другим участникам чата.

#### 6. **История сообщений**

-   Система должна предоставлять пользователю возможность просматривать историю сообщений в каждом чате.
-   История сообщений должна загружаться по запросу пользователя, с возможностью прокрутки вверх для получения более старых сообщений.

#### 7. **Создание чатов**

-   Пользователь должен иметь возможность создать новый чат (групповой или личный) через соответствующую кнопку в интерфейсе.
-   При создании нового чата пользователь может задать название и добавить участников.

#### 8. **Создание закрытых чатов**

-   Пользователь должен иметь возможность создать закрытый чат, в который могут вступить только приглашённые пользователи.
-   При создании закрытого чата только автор может пригласить других участников.

#### 9. **Участие в чатах**

-   Пользователь может вступить в существующий чат, если это публичный чат.
-   В закрытые чаты пользователь может вступить только по приглашению.

#### 10. **Поиск по публичным чатам**

-   Система должна поддерживать поиск по публичным чатам по названию или ключевым словам.
-   Пользователь может присоединиться к найденным чатам через результат поиска.

#### 11. **Уведомления о новых сообщениях (Web Push)**

-   Система должна поддерживать Web Push уведомления о новых сообщениях, если пользователь не находится в приложении.
-   Уведомления должны быть отображены на экране устройства с возможностью перехода в соответствующий чат.

#### 12. **Статусы сообщений**

-   Каждое сообщение должно иметь один из следующих статусов:
    -   **Отправлено** — сообщение успешно отправлено на сервер.
    -   **Доставлено** — сообщение доставлено получателю.
    -   **Прочитано** — сообщение прочитано получателем.
-   Статус каждого сообщения должен отображаться в интерфейсе рядом с ним.

#### 13. **Поиск по сообщениям**

-   Система должна позволять пользователю искать по тексту сообщений внутри выбранного чата.
-   Поиск должен поддерживать выделение текста, совпавшего с запросом.

#### 14. **Групповой чат**

-   Система должна поддерживать создание и участие в групповых чатах, где несколько пользователей могут обмениваться сообщениями в реальном времени.
-   Пользователи должны иметь возможность видеть участников группового чата.

#### 15. **Медиа-сообщения**

-   Система должна поддерживать отправку медиафайлов (изображений, видео, аудио).
-   Медиа-сообщения должны корректно отображаться в чате.

#### 16. **Удаление сообщений**

-   Пользователи должны иметь возможность удалять свои сообщения из чата.
-   Удалённые сообщения должны исчезать для всех участников чата.

#### 17. **Редактирование сообщений**

-   Пользователи должны иметь возможность редактировать свои отправленные сообщения.
-   При редактировании сообщения его статус должен обновляться, и другие участники должны видеть, что сообщение было изменено.

#### 18. **Безопасность и шифрование**

-   Все сообщения должны передаваться через защищённое соединение HTTPS (SSL/TLS).
-   Система должна поддерживать возможность шифрования сообщений для дополнительной безопасности, как на сервере, так и на клиенте.

#### 19. **Поддержка нескольких устройств**

-   Пользователь должен иметь возможность использовать чат на нескольких устройствах с синхронизацией данных.
-   Все сообщения, отправленные или полученные на одном устройстве, должны быть доступны на других устройствах, привязанных к аккаунту пользователя.


## **Нефункциональные требования для чата с офлайн-режимом**

#### 1. **Производительность**

-   **Время отклика**:
    -   Время отклика на действия пользователя (например, отправка сообщения или изменение статуса) должно быть не более **1 секунды** при хорошем интернет-соединении.
-   **Скорость синхронизации**:
    -   После восстановления подключения к сети, сообщения, отправленные в офлайн-режиме, должны быть синхронизированы с сервером не позднее **5 секунд**.
-   **Максимальная нагрузка**:
    -   Приложение должно поддерживать до **1000 пользователей** в одном чате без существенного снижения производительности.

#### 2. **Надежность**

-   **Восстановление после сбоя**:
    -   В случае сбоя серверов или приложения, оно должно восстанавливаться в течение **30 секунд**, обеспечивая пользователю доступ к чату и истории сообщений.
-   **Резервное копирование**:
    -   Все данные (сообщения, чаты, пользовательские настройки) должны регулярно сохраняться на сервере и в локальном хранилище (например, IndexedDB) для предотвращения потери данных.
-   **Обработка ошибок**:
    -   Приложение должно корректно обрабатывать все ошибки, уведомлять пользователя о возникших проблемах и не приводить к аварийному завершению работы.

#### 3. **Безопасность**

-   **Шифрование**:
    -   Все сообщения должны передаваться через защищённое соединение (SSL/TLS).
    -   Для дополнительной безопасности сообщения должны быть шифрованы с использованием алгоритмов, таких как AES.
-   **Аутентификация**:
    -   Пользователи должны аутентифицироваться с использованием **e-mail** и **пароля**, при этом пароли должны храниться в зашифрованном виде (например, с использованием bcrypt).
-   **Защита данных**:
    -   Данные, хранящиеся в **IndexedDB**, должны быть зашифрованы или обрабатываться с применением других методов защиты для предотвращения доступа злоумышленников.
-   **Обновление безопасности**:
    -   Приложение должно регулярно обновляться для устранения уязвимостей и повышения уровня безопасности.

#### 4. **Юзабилити**

-   **Интерфейс**:
    -   Интерфейс должен быть интуитивно понятным и легко осваиваемым для пользователей всех возрастных групп.
    -   Приложение должно иметь адаптивный дизайн, который будет автоматически подстраиваться под различные размеры экрана, обеспечивая удобное использование как на мобильных устройствах, так и на десктопах.
-   **Навигация**:
    -   Приложение должно обеспечивать лёгкую навигацию по чатам, историю сообщений и настройкам.
    -   Все основные функции (создание чата, отправка сообщений, просмотр истории) должны быть доступны не более чем за **3 клика**.
-   **Поддержка мультимедиа**:
    -   Пользователи должны иметь возможность удобно отправлять изображения, видео и аудиофайлы без задержек или значительных потерь в качестве.

#### 5. **Доступность**

-   **Поддержка нескольких языков**:
    -   Приложение должно поддерживать хотя бы два языка (например, русский и английский), с возможностью выбора языка интерфейса.
-   **Совместимость с экранными читалками**:
    -   Приложение должно быть доступно для пользователей с ограниченными возможностями, включая поддержку экранных читалок и возможность управления через клавиатуру.
-   **Адаптивность**:
    -   Приложение должно корректно работать на разных устройствах и в разных браузерах, поддерживая все основные функции на мобильных и десктопных платформах.

#### 6. **Совместимость**

-   **Браузеры**:
    -   Приложение должно поддерживать последние версии современных браузеров: **Chrome, Firefox, Safari, Edge**, а также старые версии, не превышающие 2 года.
-   **Операционные системы**:
    -   Приложение должно работать на операционных системах **Windows, macOS, Linux** для десктопов и **Android, iOS** для мобильных устройств.
-   **PWA совместимость**:
    -   Приложение должно работать как **PWA**, с возможностью установки на мобильные устройства и поддержку работы в офлайн-режиме.

#### 7. **Производительность при офлайн-режиме**

-   **Работа без интернета**:
    -   Приложение должно работать в офлайн-режиме, позволяя пользователям отправлять сообщения, которые сохраняются в локальном хранилище (IndexedDB) и синхронизируются с сервером при восстановлении соединения.
-   **Автосинхронизация**:
    -   После восстановления подключения приложение должно автоматически синхронизировать все локально сохранённые сообщения с сервером и доставить их получателям, а также обновить статус отправленных сообщений.

#### 8. **Обслуживаемость**

-   **Логирование**:
    -   Приложение должно вести логирование всех критических ошибок и событий для последующего анализа и исправления.
-   **Мониторинг**:
    -   Приложение должно поддерживать мониторинг на уровне серверов и сервисов для быстрого обнаружения и устранения проблем в реальном времени.
-   **Обновления**:
    -   Поскольку это PWA, приложение должно поддерживать **автоматическое обновление** без необходимости вмешательства пользователя.

#### 9. **Масштабируемость**

-   **Поддержка большого количества пользователей**:
    -   Приложение должно поддерживать увеличение числа пользователей без значительного ухудшения производительности. Система должна быть готова к обслуживанию **до 10000 пользователей одновременно**.
-   **Горизонтальное масштабирование**:
    -   Система должна поддерживать возможность горизонтального масштабирования серверов для обработки растущего количества сообщений и пользователей.

#### 10. **Экологичность**

-   **Энергоэффективность**:
    -   Приложение должно быть оптимизировано для минимального расхода энергии на мобильных устройствах, чтобы продлить срок службы батареи.
-   **Экономия данных**:
    -   Приложение должно минимизировать использование мобильных данных, например, сжимая изображения и видео перед отправкой и загрузкой.

#### 11. **Юридические требования**

-   **Конфиденциальность данных**:
    -   Все персональные данные пользователей должны обрабатываться в соответствии с законодательством о защите данных (например, GDPR).
-   **Согласие с пользовательским соглашением**:
    -   Пользователи должны дать согласие с пользовательским соглашением и политикой конфиденциальности перед регистрацией и использованием приложения.



## **Ограничения**

#### 1. **Ограничения по производительности**

-   **Время отклика**:
    -   Время отклика при отправке сообщений или изменении статусов не должно превышать **1 секунду** при хорошем интернет-соединении, но при слабом или нестабильном интернете отклик может увеличиться до **5 секунд**.
-   **Нагрузка на сервер**:
    -   Приложение не должно поддерживать более **10000 активных пользователей** одновременно в одном чате без существенного ухудшения производительности.
-   **Скорость синхронизации сообщений**:
    -   При восстановлении соединения в офлайн-режиме сообщения могут синхронизироваться с сервером **в течение 30 секунд** для одного чата с большим количеством сообщений.

#### 2. **Ограничения на хранение данных**

-   **Локальное хранилище**:
    -   **IndexedDB** может хранить ограниченное количество данных, и в зависимости от браузера и устройства, максимальный размер локального хранилища может составлять **до 50 МБ** для каждого пользователя.
-   **Ограничение по размеру сообщений**:
    -   Максимальный размер одного текстового сообщения: **1000 символов**.
    -   Ограничения на размер мультимедийных файлов:
        -   Изображения — не более **5 МБ**.
        -   Видео — не более **50 МБ**.
        -   Аудио — не более **10 МБ**.

#### 3. **Ограничения по функционалу офлайн-режима**

-   **Отправка сообщений в офлайн-режиме**:
    -   При отсутствии интернет-соединения пользователи могут отправлять сообщения, которые сохраняются в **локальном хранилище (IndexedDB)**. Однако они не будут доставлены другим пользователям до восстановления подключения.
-   **Ограниченная синхронизация**:
    -   После восстановления подключения к сети синхронизация сообщений может занять **до 30 секунд**, особенно если количество сообщений за время отсутствия интернета велико.
    -   При большом объёме данных может возникнуть задержка в синхронизации.

#### 4. **Ограничения по мультимедийным файлам**

-   **Сжатие мультимедийных файлов**:
    -   Для видео и изображений, превышающих установленные размеры, приложение должно автоматически сжимать их до допустимых размеров, что может повлиять на качество.
-   **Поддерживаемые форматы**:
    -   Только определённые форматы мультимедиа поддерживаются: **JPEG, PNG, WebP** для изображений, **MP4, WebM, OGG** для видео и **MP3, OGG, WAV** для аудио.
-   **Длительность видео**:
    -   Видео, загружаемое в чат, должно иметь продолжительность **не более 5 минут**. Видео, превышающее этот лимит, будет либо автоматически обрезано, либо пользователю предложат загрузить более короткую версию.

#### 5. **Ограничения по интерфейсу и пользовательскому опыту**

-   **Поддержка браузеров**:
    -   Приложение должно поддерживать современные версии браузеров, таких как **Chrome, Firefox, Safari, Edge**. Не все старые версии браузеров будут поддерживать PWA или офлайн-функции.
-   **Поддержка мобильных устройств**:
    -   Приложение может не поддерживать все функции на старых мобильных устройствах, например, в случае ограничений по памяти или процессорной мощности.
    -   На старых устройствах PWA может не поддерживать Push-уведомления или работу в офлайн-режиме.

#### 6. **Ограничения по безопасности**

-   **Ограниченная защита локальных данных**:
    -   Локальное хранилище (например, **IndexedDB**) имеет ограниченные возможности защиты данных, что может представлять угрозу безопасности, если устройство пользователя скомпрометировано.
-   **Аутентификация и авторизация**:
    -   В случае утраты или кражи учетных данных (например, e-mail и пароля), приложение не будет автоматически восстанавливать доступ к чату без прохождения процедуры сброса пароля.

#### 7. **Ограничения по масштабируемости**

-   **Масштабируемость чатов**:
    -   Приложение будет иметь ограничения по количеству пользователей в одном чате (например, до **1000 человек**), превышение которых может замедлить работу системы.
-   **Масштабируемость серверов**:
    -   Платформа будет ограничена возможностями серверов для одновременной обработки большого числа запросов. Система должна масштабироваться горизонтально, но есть ограничения на максимальное количество параллельных соединений (например, **10,000** пользователей в одно время).

#### 8. **Ограничения по поддержке нескольких устройств**

-   **Ограничения по синхронизации устройств**:
    -   Одновременно можно использовать чат на **не более 3 устройствах** (например, мобильное устройство, десктоп и планшет). При превышении этого лимита возможны проблемы с синхронизацией данных.
-   **Синхронизация на разных платформах**:
    -   Синхронизация между устройствами и платформами может занять несколько минут при восстановлении соединения, особенно если сообщения были отправлены в офлайн-режиме.

#### 9. **Ограничения на Push-уведомления**

-   **Поддержка Push-уведомлений**:
    -   Push-уведомления могут не работать на всех мобильных устройствах, особенно на старых версиях iOS (до 16) или в старых браузерах.
    -   В офлайн-режиме Push-уведомления не могут быть отправлены до восстановления подключения к интернету.
-   **Ограничения по частоте уведомлений**:
    -   Частота уведомлений будет ограничена, чтобы не перегрузить пользователей и не создавать излишней нагрузки на серверы. Например, приложение может отправлять уведомления не чаще чем **один раз в 5 минут** для каждого пользователя.

#### 10. **Ограничения по интеграции с устройствами**

-   **Ограничения доступа к устройствам**:
    -   Приложение не имеет доступа к низкоуровневым устройствам, таким как **Bluetooth** или **датчики устройства** (например, гироскоп), в отличие от нативных приложений.
    -   Платформа не будет поддерживать использование устройства для обмена файлами через такие сервисы, как **AirDrop** или аналогичные технологии.